<!DOCTYPE html>
<html lang="en" ng-app='myApp'>
<head>
    <link rel="stylesheet" type="text/css" href="css.css">
</head>
<body ng-controller='TextController'>
<p>{{someText.message}}</p>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.1/angular.min.js">


</script>
<!--// 1.hello world controller-->
<div ng-controller='HelloController'>
    <p>{{greeting.text}}, World</p>
</div>

<div class="clear_with_height"></div>

<!--2.-->
<div ng-controller='HelloController'>
    <input ng-model='greeting.text'>
    <p>{{greeting.text}}, World</p>
</div>

<div class="clear_with_height"></div>


<!--3.-->
<!--<form ng-controller="SomeController">-->
    <!--<input type="checkbox" ng-model="youCheckedIt">-->
<!--</form>-->

<div class="clear_with_height"></div>


<!--4.-->
<form ng-controller="StartUpController">
    Starting: <input ng-change="computeNeeded()" ng-model="funding.startingEstimate">
    Recommendation: {{funding.needed}}
</form>

<div class="clear_with_height"></div>


<!--5.-->
<form ng-submit="requestFunding()" ng-controller="StartUpController1">
    Starting: <input ng-change="computeNeeded()" ng-model="startingEstimate">
    Recommendation: {{needed}}
    <button>Fund my startup!</button>
</form>

<div class="clear_with_height"></div>


<!--6.-->
<form ng-submit="requestFunding()" ng-controller="StartUpController2">
    Starting: <input ng-change="computeNeeded()" ng-model="startingEstimate">
    Recommendation: {{needed}}
    <button>Fund my startup!</button>
    <button ng-click="reset()">Reset</button>
</form>

<!--7.-->

<!--<div class="navbar" ng-controller="NavController">-->
    <!--…-->
    <!--<li class="menu-item" ng-click="doSomething()">Something</li>-->
    <!--…-->
<!--</div>-->
<!--<div class="contentArea" ng-controller="ContentAreaController">-->
    <!--…-->
    <!--<div ng-click="doSomething()">...</div>-->
    <!--…-->
<!--</div>-->

<div class="clear_with_height"></div>


<!--8.-->

<div ng-controller="Hi1">
    {{3+4}}
    <ul>
        <!--<li ng-repeat='student in students'> {{student.name}}</li>-->
        <li ng-repeat='student in students'>
            <a href='/student/view/{{student.id}}'>{{student.name}}</a>
            {{student.name}}
        </li>
        <button ng-click="insertTom()">Insert</button>
    </ul>
</div>
<div class="clear_with_height"></div>


<!--9.-->

<table ng-controller='AlbumController'>
    <tr ng-repeat='track in album'>
        <td>{{$index + 1}}</td>
        <td>{{track.name}}</td>
        <td>{{track.duration}}</td>
    </tr>
</table>

<div class="clear_with_height"></div>


<!--10. hide and show-->

<div ng-controller='Hi3'>
<button ng-click='toggleMenu()'>Toggle Menu</button>
<ul ng-show='menuState'>
    <li ng-click='stun()'>Stun</li>
    <li ng-click='disintegrate()'>Disintegrate</li>
    <li ng-click='erase()'>Erase from history</li>
</ul>
</div>

<div class="clear_with_height"></div>


<!--11.-->

<div ng-controller='DeathrayMenuController'>
    <ul>
        <li class='menu-disabled-{{isDisabled}}' ng-click='stun()'>Stun</li>
        ...
    </ul>
</div>


<div class="clear_with_height"></div>


<!--12.-->
<div ng-controller='HeaderController'>
    ...
    <div ng-class='{error: isError, warning: isWarning}'>{{messageText}}</div>
    …
    <button ng-click='showError()'>Simulate Error</button>
    <button ng-click='showWarning()'>Simulate Warning</button>
</div>

<div class="clear_with_height"></div>

<!--13.-->

<table ng-controller='RestaurantTableController' border="1">
    <tr ng-repeat='restaurant in directory' ng-click='selectRestaurant($index)'
        ng-class='{selected: $index==selectedRow}'>
        <td>{{restaurant.name}}</td>
        <td>{{restaurant.cuisine}}</td>
    </tr>
</table>

<div class="clear_with_height"></div>

<!--14.-->
<div ng-controller="CartControllerNew">
    <div ng-repeat="item in items">
        <span>{{item.title}}</span>
        <input ng-model="item.quantity">
        <span>{{item.price | currency}}</span>
        <span>{{item.price * item.quantity | currency}}</span>
    </div>
    <div>Total: {{totalCart() | currency}}</div>
    <div>Discount: {{discount | currency}}</div>
    <div>Subtotal: {{subtotal() | currency}}</div>
</div>
<div class="clear_with_height"></div>
<!--15.-->

<h1>Sign Up</h1>
<form name='addUserForm'>
    <div>First name: <input ng-model='user.first' required></div>
    <div>Last name: <input ng-model='user.last' required></div>
    <div>Email: <input type='email' ng-model='user.email' required></div>
    {{ 3 + 4 }}
    <div>Age: <input type='number'
                     ng-model='user.age'
                     ng-maxlength='3'
                     ng-minlength='1'></div>
    <div><button>Submit</button></div>
</form>
<div class="clear_with_height"></div>
<!--16.-->
<h1>Sign Up</h1>
<form name='addUserForm1' ng-controller="AddUserController">
    <div ng-show='message'>{{message}}</div>
    <div>First name: <input name='firstName' ng-model='user.first' required></div>
    <div>Last name: <input ng-model='user.last' required></div>
    <div>Email: <input type='email' ng-model='user.email' required></div>
    <div>Age: <input type='number'
                     ng-model='user.age'
                     ng-maxlength='3'
                     ng-min='1'></div>
    <div><button ng-click='addUser()' ng-disabled='!addUserForm1.$valid'>Submit</button> </div>
</form>
<div class="clear_with_height"></div>
{{ 5*4 }}
<!--17.-->

<tab-set>
    <tab title='Home'>
        <p>Welcome home!</p>
    </tab>
    <tab title='Preferences'>
        <!-- preferences UI goes here -->
    </tab>
</tab-set>
{{ 5*4 }}
<div class="clear_with_height"></div>
<!--18.-->
{{ 5*4 }}
<hello></hello>
<div class="clear_with_height"></div>
{{ 5*4 }}
<!--19.-->
<hello1></hello1>
<div class="clear_with_height"></div>
{{ 5*4 }}
<!--20.-->

<script type='text/ng-template' id='helloTemplateInline.html'>
    <div>Hi there</div>
</script>

<hello2></hello2>
{{ 5*4 }}
<!--21.-->
<div hello>Bob</div>

<script>
    var myAppModule = angular.module('myApp', []);
    myAppModule.controller('TextController',function($scope) {
                var someText = {};
                someText.message = 'You have started your journey.';
                $scope.someText = someText;
            });
//    <!--//hello world controller-->
    function HelloController($scope) {
        $scope.greeting = { text: 'Hello' };
    };

//    4

    function StartUpController($scope) {
        $scope.funding = { startingEstimate: 0 };
        computeNeeded = function() {
            $scope.funding.needed = $scope.funding.startingEstimate * 10;
        };
        $scope.$watch('funding.startingEstimate', computeNeeded);
    }

//    5 The ng-submit directive also automatically prevents the browser from doing its default
//    POST action when it tries to submit the form.

    function StartUpController1($scope) {
        computeNeeded = function() {
            $scope.needed = $scope.startingEstimate * 10;
        };
        $scope.requestFunding = function() {
            window.alert("Sorry, please get more customers first.");
        };

        $scope.reset = function() {
            $scope.startingEstimate = 0;
        };
    }

//    6.
    function StartUpController2($scope) {
        $scope.computeNeeded = function() {
            $scope.needed = $scope.startingEstimate * 10;
        };
        $scope.requestFunding = function() {
            window.alert("Sorry, please get more customers first.");
        };
        $scope.reset = function() {
            $scope.startingEstimate = 0;
        };
    }

//    7.

    function NavController($scope) {
        $scope.doSomething = doA;
    }

    function ContentAreaController($scope) {
        $scope.doSomething = doB;
    }

//    8.
    var students = [{name:'Mary Contrary', id:'1'},
        {name:'Jack Sprat', id:'2'},
        {name:'Jill Hill', id:'3'}];

//    function StudentListController($scope) {
//        myAppModule.controller('HI1',function($scope) {
            function Hi1($scope) {
                $scope.students = [{name:'Mary Contrary', id:'1'},
            {name:'Jack Sprat', id:'2'},
            {name:'Jill Hill', id:'3'}];
            $scope.insertTom = function () {
                $scope.students.splice(1, 0, {name:'Tom Thumb', id:'4'});
            };
//        $scope.students = students;
    }
//9.
    var album = [{name:'Southwest Serenade', duration: '2:34'},
        {name:'Northern Light Waltz', duration: '3:21'},
        {name:'Eastern Tango', duration: '17:45'}];
    function AlbumController($scope) {
        $scope.album = album;
    };
//10.
    //    function DeathrayMenuController($scope) {
        myAppModule.controller('Hi3',function($scope) {
            $scope.menuState = false;
            $scope.toggleMenu = function() {
                $scope.menuState = !$scope.menuState;
            };
    // death ray functions left as exercise to reader
        });

//    11.
    function DeathrayMenuController($scope) {
        $scope.isDisabled = false;
        $scope.stun = function() {
// stun the target, then disable menu to allow regeneration
            $scope.isDisabled = !$scope.isDisabled;
        };
    }

//12.

function HeaderController($scope) {
    $scope.isError = false;
    $scope.isWarning = false;
    $scope.showError = function() {
        $scope.messageText = 'This is an error!';
        $scope.isError = true;
        $scope.isWarning = false;
    };
    $scope.showWarning = function() {
        $scope.messageText = 'Just a warning. Please carry on.';
        $scope.isWarning = true;
        $scope.isError = false;
    };
}

//    13.

    function RestaurantTableController($scope) {
        $scope.directory = [{name:'The Handsome Heifer', cuisine:'BBQ'},
            {name:'Green\'s Green Greens', cuisine:'Salads'},
            {name:'House of Fine Fish', cuisine:'Seafood'}];
        $scope.selectRestaurant = function(row) {
            $scope.selectedRow = row;
        };
    }
//14.

    function CartControllerNew($scope) {
        $scope.bill = {};
        $scope.items = [
            {title: 'Paint pots', quantity: 8, price: 3.95},
            {title: 'Polka dots', quantity: 17, price: 12.95},
            {title: 'Pebbles', quantity: 5, price: 6.95}
        ];
        $scope.totalCart = function() {
            var total = 0;
            for (var i = 0, len = $scope.items.length; i < len; i++) {
                total = total + $scope.items[i].price * $scope.items[i].quantity;
            }
            return total;
        }


        $scope.subtotal = function() {
            return $scope.totalCart() - $scope.discount;
        };
        function calculateDiscount(newValue, oldValue, scope) {
            $scope.discount = newValue > 100 ? 10 : 0;
        }
        $scope.$watch($scope.totalCart, calculateDiscount);
    }

//    16.
    function AddUserController($scope) {
        $scope.message = '';
        $scope.addUser = function () {
// TODO for the reader: actually save user to database...
            $scope.message = 'Thanks, ' + $scope.user.first + ', we added you!';
        };
    }

//18.

//    var appModule = angular.module('app', []);
    myAppModule.directive('hello', function() {
        return {
            restrict: 'E',
            template: '<div>Hi there</div>',
            replace: true
        };
    });

//    19.

    myAppModule.directive('hello1', function() {
        alert('Hi this hello1 directive');
        return {
            restrict: 'E',
            templateUrl: 'helloTemplate.html',
            replace: true
        };
    });

//    20.

//    var appModule = angular.module('app', []);
    myAppModule.run(function($templateCache) {
        $templateCache.put('helloTemplateCached.html', '<div>Hi there from helloo2 </div>');
    });
    myAppModule.directive('hello2', function() {
        return {
            restrict: 'E',
            templateUrl: 'helloTemplateCached.html',
            replace: true
        };
    });


//    21.

    myAppModule.directive('hello', function() {
        return {
            template: '<div>Hi there <span ng-transclude></span></div>',
            transclude: true
        };
    });

    </script>